{"ast":null,"code":"import _objectSpread from\"D:/3rd year work/PAWPAL/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getAuth,setAuth}from'../auth';import API from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){const user=getAuth();const[form,setForm]=useState({name:(user===null||user===void 0?void 0:user.name)||'',email:(user===null||user===void 0?void 0:user.email)||''});const[msg,setMsg]=useState(null);const save=async e=>{e.preventDefault();try{// update local only for demo\nconst updated=_objectSpread(_objectSpread({},user),{},{name:form.name});setAuth(updated,localStorage.getItem('pawpal_token'));setMsg('Profile updated locally');}catch(err){setMsg('Error updating');}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:600},className:\"mx-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Profile\"}),msg&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:msg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:save,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:form.email,disabled:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Save\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","getAuth","setAuth","API","jsx","_jsx","jsxs","_jsxs","Profile","user","form","setForm","name","email","msg","setMsg","save","e","preventDefault","updated","_objectSpread","localStorage","getItem","err","style","maxWidth","className","children","onSubmit","value","onChange","target","disabled"],"sources":["D:/3rd year work/PAWPAL/client/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getAuth, setAuth } from '../auth';\nimport API from '../api';\n\nexport default function Profile(){\n  const user = getAuth();\n  const [form,setForm] = useState({ name: user?.name || '', email: user?.email || '' });\n  const [msg,setMsg] = useState(null);\n\n  const save = async (e) => {\n    e.preventDefault();\n    try {\n      // update local only for demo\n      const updated = { ...user, name: form.name };\n      setAuth(updated, localStorage.getItem('pawpal_token'));\n      setMsg('Profile updated locally');\n    } catch (err) {\n      setMsg('Error updating');\n    }\n  };\n\n  return (\n    <div style={{ maxWidth:600 }} className=\"mx-auto\">\n      <h3>Your Profile</h3>\n      {msg && <div className=\"alert alert-info\">{msg}</div>}\n      <form onSubmit={save}>\n        <div className=\"mb-3\"><label>Name</label><input className=\"form-control\" value={form.name} onChange={e=>setForm({...form,name:e.target.value})}/></div>\n        <div className=\"mb-3\"><label>Email</label><input className=\"form-control\" value={form.email} disabled/></div>\n        <button className=\"btn btn-primary\">Save</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"mHAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,CAAEC,OAAO,KAAQ,SAAS,CAC1C,MAAO,CAAAC,GAAG,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAE,CAC/B,KAAM,CAAAC,IAAI,CAAGR,OAAO,CAAC,CAAC,CACtB,KAAM,CAACS,IAAI,CAACC,OAAO,CAAC,CAAGX,QAAQ,CAAC,CAAEY,IAAI,CAAE,CAAAH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,IAAI,GAAI,EAAE,CAAEC,KAAK,CAAE,CAAAJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,KAAK,GAAI,EAAG,CAAC,CAAC,CACrF,KAAM,CAACC,GAAG,CAACC,MAAM,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAEnC,KAAM,CAAAgB,IAAI,CAAG,KAAO,CAAAC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF;AACA,KAAM,CAAAC,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAQX,IAAI,MAAEG,IAAI,CAAEF,IAAI,CAACE,IAAI,EAAE,CAC5CV,OAAO,CAACiB,OAAO,CAAEE,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,CACtDP,MAAM,CAAC,yBAAyB,CAAC,CACnC,CAAE,MAAOQ,GAAG,CAAE,CACZR,MAAM,CAAC,gBAAgB,CAAC,CAC1B,CACF,CAAC,CAED,mBACER,KAAA,QAAKiB,KAAK,CAAE,CAAEC,QAAQ,CAAC,GAAI,CAAE,CAACC,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC/CtB,IAAA,OAAAsB,QAAA,CAAI,cAAY,CAAI,CAAC,CACpBb,GAAG,eAAIT,IAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEb,GAAG,CAAM,CAAC,cACrDP,KAAA,SAAMqB,QAAQ,CAAEZ,IAAK,CAAAW,QAAA,eACnBpB,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAACtB,IAAA,UAAAsB,QAAA,CAAO,MAAI,CAAO,CAAC,cAAAtB,IAAA,UAAOqB,SAAS,CAAC,cAAc,CAACG,KAAK,CAAEnB,IAAI,CAACE,IAAK,CAACkB,QAAQ,CAAEb,CAAC,EAAEN,OAAO,CAAAS,aAAA,CAAAA,aAAA,IAAKV,IAAI,MAACE,IAAI,CAACK,CAAC,CAACc,MAAM,CAACF,KAAK,EAAC,CAAE,CAAC,CAAC,EAAK,CAAC,cACvJtB,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAACtB,IAAA,UAAAsB,QAAA,CAAO,OAAK,CAAO,CAAC,cAAAtB,IAAA,UAAOqB,SAAS,CAAC,cAAc,CAACG,KAAK,CAAEnB,IAAI,CAACG,KAAM,CAACmB,QAAQ,MAAC,CAAC,EAAK,CAAC,cAC7G3B,IAAA,WAAQqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC7C,CAAC,EACJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}