{"ast":null,"code":"import _objectSpread from\"D:/3rd year work/PAWPAL/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import API from'../api';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditUser(){const{id}=useParams();const navigate=useNavigate();const[form,setForm]=useState({name:'',email:'',role:'user'});useEffect(()=>{API.get('/users').then(r=>{const u=r.data.find(x=>x._id===id);if(u)setForm(u);});},[id]);const save=async e=>{e.preventDefault();await API.put(\"/users/\".concat(id),form);navigate('/admin/users');};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:600},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:save,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:form.email,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{email:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:form.role,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{role:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{children:\"user\"}),/*#__PURE__*/_jsx(\"option\",{children:\"admin\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Save\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","API","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","EditUser","id","navigate","form","setForm","name","email","role","get","then","r","u","data","find","x","_id","save","e","preventDefault","put","concat","style","maxWidth","children","onSubmit","className","value","onChange","_objectSpread","target"],"sources":["D:/3rd year work/PAWPAL/client/src/components/EditUser.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nexport default function EditUser(){\n  const { id } = useParams(); const navigate = useNavigate();\n  const [form,setForm] = useState({ name:'', email:'', role:'user' });\n  useEffect(()=> {\n    API.get('/users').then(r=> {\n      const u = r.data.find(x=> x._id === id);\n      if(u) setForm(u);\n    });\n  },[id]);\n\n  const save = async (e) => {\n    e.preventDefault();\n    await API.put(`/users/${id}`, form);\n    navigate('/admin/users');\n  };\n\n  return (\n    <div style={{ maxWidth:600 }}>\n      <h3>Edit User</h3>\n      <form onSubmit={save}>\n        <div className=\"mb-3\"><label>Name</label><input className=\"form-control\" value={form.name} onChange={e=>setForm({...form,name:e.target.value})}/></div>\n        <div className=\"mb-3\"><label>Email</label><input className=\"form-control\" value={form.email} onChange={e=>setForm({...form,email:e.target.value})}/></div>\n        <div className=\"mb-3\"><label>Role</label><select className=\"form-control\" value={form.role} onChange={e=>setForm({...form,role:e.target.value})}><option>user</option><option>admin</option></select></div>\n        <button className=\"btn btn-primary\">Save</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}