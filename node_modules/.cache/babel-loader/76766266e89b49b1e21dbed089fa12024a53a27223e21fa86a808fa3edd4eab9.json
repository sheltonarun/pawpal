{"ast":null,"code":"import React,{useEffect,useState}from'react';import API from'../api';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){const[pets,setPets]=useState([]);useEffect(()=>{API.get('/pets').then(r=>setPets(r.data));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/users\",className:\"btn btn-outline-primary\",children:\"Manage Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Manage Pets\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/pets/edit/new\",className:\"btn btn-success\",children:\"Add New Pet\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Breed\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets.map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:p.name}),/*#__PURE__*/_jsx(\"td\",{children:p.type}),/*#__PURE__*/_jsx(\"td\",{children:p.breed}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-sm btn-primary me-2\",to:\"/admin/pets/edit/\".concat(p._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:async()=>{if(!window.confirm('Delete pet?'))return;await API.delete(\"/pets/\".concat(p._id));setPets(pets.filter(x=>x._id!==p._id));},children:\"Delete\"})]})]},p._id))})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","API","Link","jsx","_jsx","jsxs","_jsxs","AdminDashboard","pets","setPets","get","then","r","data","className","children","to","map","p","name","type","breed","concat","_id","onClick","window","confirm","delete","filter","x"],"sources":["D:/3rd year work/PAWPAL/client/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport { Link } from 'react-router-dom';\n\nexport default function AdminDashboard(){\n  const [pets, setPets] = useState([]);\n\n  useEffect(()=> { \n    API.get('/pets').then(r=> setPets(r.data)); \n  }, []);\n\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\n        <h2>Admin Dashboard</h2>\n        <Link to=\"/admin/users\" className=\"btn btn-outline-primary\">Manage Users</Link>\n      </div>\n\n      <div className=\"card p-3 shadow-sm\">\n        <div className=\"d-flex justify-content-between align-items-center mb-3\">\n          <h4>Manage Pets</h4>\n          <Link to=\"/admin/pets/edit/new\" className=\"btn btn-success\">Add New Pet</Link>\n        </div>\n\n        <table className=\"table table-striped\">\n          <thead>\n            <tr><th>Name</th><th>Type</th><th>Breed</th><th>Actions</th></tr>\n          </thead>\n          <tbody>\n            {pets.map(p => (\n              <tr key={p._id}>\n                <td>{p.name}</td>\n                <td>{p.type}</td>\n                <td>{p.breed}</td>\n                <td>\n                  <Link className=\"btn btn-sm btn-primary me-2\" to={`/admin/pets/edit/${p._id}`}>Edit</Link>\n                  <button className=\"btn btn-sm btn-danger\" onClick={async ()=> {\n                    if(!window.confirm('Delete pet?')) return;\n                    await API.delete(`/pets/${p._id}`); \n                    setPets(pets.filter(x => x._id !== p._id));\n                  }}>Delete</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}